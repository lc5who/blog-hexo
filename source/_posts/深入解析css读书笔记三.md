---
title: 深入解析css读书笔记三
date: 2022-06-07 13:43:21
tags: css
---

# Chapter 3. 盒模型

## 3.1 元素宽度问题

### 当给一个元素设置宽或高的时候，指定的是内容的宽或高，所有内边距、边框、外边距都是追加到该宽度上的。解决方法:

- 避免魔术数值

    替代魔术数值的一个方法是让浏览器帮忙计算。在本例中，因为加了内边距，两列的宽度总和超出了3em，所以可以使用calc()函数减去这个值，得到刚好100%的总和。比如设置侧边栏宽度为calc(30% - 3em)就能刚好并排放下两列，但是还有更好的解决办法。

- 调整盒模型

    CSS中可以使用box-sizing属性调整盒模型的行为。box-sizing的默认值为content-box，这意味任何指定的宽或高都只会设置内容盒子的大小。将box-sizing设置为border-box后，height和width属性会设置内容、内边距以及边框的大小总和，这刚好符合示例的要求。

#### 全局修改盒模型
```css
*,
::before,
::after {
  box-sizing: border-box;
}

//让全局修改盒模型为border-box更稳健

:root {
  box-sizing: border-box;   ←---- 根元素设置为border-box
}                               

*,
::before,
::after {
  box-sizing: inherit;    ←---- 告诉其他所有元素和伪元素继承其盒模型
}
```
> 善于使用 calc()操作宽度

## 3.2 元素高度问题
    处理元素高度的方式跟处理宽度不一样。之前对border-box的修改依然适用于高度，而且很有用，但是通常最好避免给元素指定明确的高度。普通文档流是为限定的宽度和无限的高度设计的。内容会填满视口的宽度，然后在必要的时候折行。因此，容器的高度由内容天然地决定，而不是容器自己决定。
> **普通文档流**:指的是网页元素的默认布局行为。行内元素跟随文字的方向从左到右排列，当到达容器边缘时会换行。块级元素会占据完整的一行，前后都有换行

## 3.3 等高列问题
### Flex布局
    Flexbox不需要一个额外的div包裹元素，它默认会产生等高的元素。此外也不需要使用负外边距。
    Min-height 会将元素拉升至最小高度

## 3.4 垂直居中问题

- vertical-align声明只会影响行内元素或者table-cell元素。对于行内元素，它控制着该元素跟同一行内其他元素之间的对齐关系。比如，可以用它控制一个行内的图片跟相邻的文字对齐。

1. 使用内边距让内容垂直居中
    padding-top: 10px;padding-bottom: 10px;


    可以用一个自然高度的容器吗？给容器加上相等的上下内边距让内容居中。

    容器需要指定高度或者避免使用内边距吗？对容器使用display: table-cell和vertical-align: middle。

    可以用Flexbox吗？ 如果不需要支持IE9，可以用Flexbox居中内容。

    容器里面的内容只有一行文字吗？设置一个大的行高，让它等于理想的容器高度。这样会让容器高度扩展到能够容纳行高。如果内容不是行内元素，可以设置为inline-block。
    
    容器和内容的高度都知道吗？将内容绝对定位。（只有当前面提到的方法都无效时才推荐这种方式。）
    
    不知道内部元素的高度？用绝对定位结合变形（transform）。参见第15章的例子。（还是只有当前面提到的方法都无效时才推荐该方法。）

## 3.5 负边距

> *负外边距的具体行为取决于设置在元素的哪边，如图3-15所示。如果设置左边或顶部的负外边距，元素就会相应地向左或向上移动，导致元素与它前面的元素重叠，如果设置右边或者底部的负外边距，并不会移动元素，而是将它后面的元素拉过来。给元素底部加上负外边距并不等同于给它下面的元素顶部加上负外边距。*

