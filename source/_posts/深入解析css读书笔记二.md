---
title: 深入解析css读书笔记二
date: 2022-06-07 11:21:51
tags: css
---

# Chapter 2. 相对单位

## em
> em是最常见的相对长度单位，适合基于特定的字号进行排版。在CSS中，1em等于当前元素的字号，其准确值取决于作用的元素

    浏览器会根据相对单位的值计算出绝对值，称作计算值（computed value）。
    在本例中，设置内边距为2em，会产生一个32px的计算值。如果另一个选择器也命中了相同的元素，并修改了字号，那么就会改变em的局部含义，计算出来的内边距也会随之变化。
    当设置padding、height、width、border-radius等属性时，使用em会很方便。这是因为当元素继承了不同的字号，或者用户改变了字体设置时，这些属性会跟着元素均匀地缩放。

- 谈到font-size属性时，em表现得不太一样。之前提到过，当前元素的字号决定了em。但是，如果声明font-size: 1.2em，会发生什么呢？一个字号当然不能等于自己的1.2倍。实际上，这个font-size是根据继承的字号来计算的。

## rem
> rem是root em的缩写。rem不是相对于当前元素，而是相对于根元素的单位。不管在文档的什么位置使用rem，1.2rem都会有相同的计算值：1.2乘以根元素的字号

    一般会用rem设置字号，用px设置边框，用em设置其他大部分属性，尤其是内边距、外边距和圆角（不过我有时用百分比设置容器宽度）

## 视口相对单位
> 相对于浏览器视口定义长度的视口的相对单位。

    vh：视口高度的1/100。
    vw：视口宽度的1/100。
    vmin：视口宽、高中较小的一方的1/100（IE9中叫vm，而不是vmin）。
    vmax：视口宽、高中较大的一方的1/100（本书写作时IE和Edge均不支持vmax）2。

    相对视口单位有一个不起眼的用途，就是设置字号，但我发现它比用vh和vw设置元素的宽和高还要实用。
    如果给一个元素加上font-size: 2vw会发生什么？在一个1200px的桌面显示器上，计算值为24px（1200的2%）。在一个768px宽的平板上，计算值约为15px（768的2%）。这样做的好处在于元素能够在这两种大小之间平滑地过渡，这意味着不会在某个断点突然改变。当视口大小改变时，元素会逐渐过渡。

> 当一个元素的值定义为长度（px、em、rem，等等）时，子元素会继承它的计算值。当使用em等单位定义行高时，它们的值是计算值，传递到了任何继承子元素上。如果子元素有不同的字号，并且继承了line-height属性，就会造成意想不到的结果，比如文字重叠。

## 自定义属性
```css
:root{
    --main-font: Helvetica, Arial, sans-serif;
}
p {                （以下3行）将段落的字体设置为Helvetica、Arial、sans-serif
  font-family: var(--main-font);   
}
```
    --main-font 是自定义属性  使用时可以 var(--main-font)
    var(--main-font,sans-serif) 第二个参数是默认值,当第一个参数为无效值时
